<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>MealPrep</title>
  <!-- Material Icon CDN -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- Firebase Reference -->
  <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
  <link rel="stylesheet" href="./assets/css/style.css">

</head>

<body id="hombody">

  <div class="card-panel grey lighten-2 jumbotronStyle">
    <div>
      <h1>Let's get Cooking</h1>
    </div>
  </div>

  <div style="width:90%;margin:0 auto;">

    <ul id="dropdown1" class="dropdown-content">
      
      <li><a href="#" onclick="menu_click(this)">Breakfast</a></li>
      <li><a href="#" onclick="menu_click(this)">Lunch</a></li>
      <li><a href="#" onclick="menu_click(this)">Dinner</a></li>
      <li><a href="#" onclick="menu_click(this)">Dessert</a></li>

    </ul>

    <ul id="dropdown2" class="dropdown-content">

      <li><a href="#" onclick="menu_click(this)">American</a></li>
      <li><a href="#" onclick="menu_click(this)">Mexican</a></li>
      <li><a href="#" onclick="menu_click(this)">Italian</a></li>
      <li><a href="#" onclick="menu_click(this)">Chinese</a></li>
      <li><a href="#" onclick="menu_click(this)">Japanese</a></li>
      <li><a href="#" onclick="menu_click(this)">French</a></li>

    </ul>


    <ul id="dropdown3" class="dropdown-content">

      <li><a href="#" onclick="menu_click(this)">Meat</a></li>
      <li><a href="#" onclick="menu_click(this)">Fish</a></li>
      <li><a href="#" onclick="menu_click(this)">Vegetables</a></li>

    </ul>



    <!-- Drop Down Menus -->
    <li>

      <a class="dropdown-button btn" href="#!" data-activates="dropdown1">Meal Type
        <i class="material-icons right">arrow_drop_down</i>
      </a>

      <a class="dropdown-button btn" href="#!" data-activates="dropdown2">Cuisine
        <i class="material-icons right">arrow_drop_down</i>
      </a>

      <a class="dropdown-button btn" href="#!" data-activates="dropdown3">Ingredients
        <i class="material-icons right">arrow_drop_down</i>
      </a>

    </li>



    <!-- API -->

    <p class="lead">

      <span style="font-size:20px;padding-right:25px;" id="title">
        No Selected
      </span>

      <a class="btn btn-primary btn-lg" href="#" role="button">Search</a>

    </p>

  </div>

  <div style="width:90%;margin:0 auto;background:#ececec;border:1px solid #536e79;">

    <div class="row" style="margin-bottom:auto;">

      <div id="appendDiv">

      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

  <script>
    (function ($) {

      $(function () {

        $('.button-collapse').sideNav();
        $('select').material_select();
        $('.dropdown-button').dropdown();

      }); // end of document ready

    })(jQuery); // end of jQuery name space
  </script>

  <script>
    function menu_click(obj)

    {
      $('#title').html($(obj).html());

      var food = $(obj).html();
      var app_id = '669cdf00';
      var app_key = 'ddf1ac17ccf1eb1b54bf9cb20d749a65';
      var queryURL = "https://api.edamam.com/search?q=" +

        food + "&app_id=" + app_id + "&app_key=" + app_key;

      // Performing an AJAX request with the queryURL

      $.ajax({

          url: queryURL,
          method: "GET"
        })

        // After data comes back from the request

        .then(function (response) {

          console.log(queryURL);
          console.log(response);

          // storing the data from the AJAX request in the results variable

          var recipeData = response.hits;

          console.log("No of Recipes : " + recipeData.length);

          // Looping through each result item

          $('#appendDiv').empty();

          var html = '';

          for (var i = 0; i < recipeData.length; i++) {

            console.log("Inside Recipes : " + recipeData[i].recipe.image);



            html += '<div class="col s3 m3">';
            html += '<div class="card blue-grey darken-1">';
            html += '<div class="card-content white-text">';
            html += '<div class="card-image">';
            html += '<img class="content-image" src="' + recipeData[i].recipe.image + '">';
            html += '<div class="content-overlay">';
            html += '</div>';
            html += '</div>';
            html += '<span class="card-title">Ingredientline</span>';
            html += '<p style="height:225px;">' + recipeData[i].recipe.ingredientLines + '</p>';
            html += '</div>';
            html += '</div>';
            html += '</div>';
          }

          $('#appendDiv').append(html);

        });

    }
  </script>

</body>

</html>



 